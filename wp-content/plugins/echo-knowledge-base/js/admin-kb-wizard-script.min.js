jQuery(document).ready(function(e){function t(t,i){i.find(".epkb-wizard-status-bar .epkb-wsb-step").removeClass("epkb-wsb-step--completed"),i.find(".epkb-wizard-status-bar .epkb-wsb-step").each(function(){id=e(this).attr("id");id[id.length-1]<t&&e(this).addClass("epkb-wsb-step--completed")})}function i(e){e.find(".epkb-wizard-button-container").removeClass("epkb-wizard-button-container--final-step"),e.find(".epkb-wizard-button-container").removeClass("epkb-wizard-button-container--first-step"),e.find(".epkb-wizard-header__exit-wizard").removeClass("epkb-wizard-header__exit-wizard--final-step");let t=e.find(".epkb-wsb-step--active").attr("id"),i=Number(t[t.length-1]),a=e.find(".epkb-wizard-status-bar li.epkb-wsb-step").length;e.find(".epkb-wizard-ordering-ordering-preview").length,1===i&&e.find(".epkb-wizard-button-container").addClass("epkb-wizard-button-container--first-step"),i===a&&(e.find(".epkb-wizard-button-container").addClass("epkb-wizard-button-container--final-step"),e.find(".epkb-wizard-header__exit-wizard").addClass("epkb-wizard-header__exit-wizard--final-step"))}function a(t){let i=e(".epkb-wsb-step--active").attr("id"),a=Number(i[i.length-1]);t.find(".epkb-wizard-header__desc__step").removeClass("epkb-wizard-desc-active"),t.find("#epkb-wizard-desc-step-"+a).addClass("epkb-wizard-desc-active")}function n(t,i,a){if(1==t&&2==i&&a.find(".epkb-wizard-name input").length&&a.find("#epkb_current_kb_name").text(a.find(".epkb-wizard-name input").val()),2==t&&3==i){if(a.find(".epkb-wizard-name input").length&&m){m=!1,a.find("#eckb-wizard-main-page-preview").html('<div class="eckb-wizard-help__image"></div>'+a.find(".epkb-wt-panel--active").html());c(JSON.parse(a.find("#eckb-wizard-main-page-preview").find(".theme-values").val()),a.find(".eckb-wizard-colors-content")),a.find("#epkb-wc-preset-0").data("colors",JSON.parse(a.find("#eckb-wizard-main-page-preview").find(".theme-values").val()));let t=a.find(".epkb-wt-tab.epkb-wt--active .epkb-wt-tab__name").text();t=0==a.find(".epkb-wt-tab.epkb-wt--active").data().template_id?"Saved KB":t,a.find("#epkb-wc-preset-0 .epkb-wcp-current-settings__name").text(t),d(a.find("#eckb-wizard-main-page-preview").find(".theme-values").val()),function(t){let i={};i=JSON.parse(t.find("#epkb-wsb-step-3-panel .theme-values").val()),t.find("#epkb-wsb-step-3-panel .eckb-wizard-colors-content input, #epkb-wsb-step-4-panel .eckb-wizard-colors-content input").each(function(){"undefined"!==i[e(this).attr("name")]&&(i[e(this).attr("name")]=e(this).val())});let a={action:"epkb_wizard_update_color_article_view",_wpnonce_apply_wizard_changes:t.find("#_wpnonce_apply_wizard_changes").val(),kb_config:i};p(t,a,function(e){void 0!==e.html&&(t.find("#eckb-wizard-article-page-preview").html('<div class="eckb-wizard-help__image"></div>'+e.html),s(),t.find(".epkb-wizard-header__exit-wizard .epkb-wizard-header__exit-wizard__label").animate({opacity:"1"},200))},!1,"",!0)}(a)}"features"==a.find("#epkb-wizard-button-apply").data("wizard-type")&&a.find(".epkb-wizard-features-article-page-preview").prependTo("#epkb-wsb-step-3-panel")}3==t&&2==i&&"features"==a.find("#epkb-wizard-button-apply").data("wizard-type")&&a.find(".epkb-wizard-features-article-page-preview").prependTo("#epkb-wsb-step-2-panel"),f()}function r(){e("html, body").animate({scrollTop:0},0)}function o(t,i,a){return function(){var t;e(".eckb-bottom-notice-message").length>0&&(clearTimeout(t),t=setTimeout(function(){!function(){var t=e("body").find(".eckb-bottom-notice-message");t.length&&t.addClass("fadeOutDown").html("")}()},1e4))}(),'<div class="eckb-bottom-notice-message"><div class="contents"><span class="'+a+'">'+(t?"<h4>"+t+"</h4>":"")+(i||"")+"</span></div></div>"}function c(t,i){if("string"==typeof t&&(t=JSON.parse(t)),0!=t.length&&(i.find("input.wp-color-picker").each(function(){void 0!==t[e(this).attr("name")]&&(e(this).val(t[e(this).attr("name")]).iris("color",t[e(this).attr("name")]),e(this).data("default_color",t[e(this).attr("name")]))}),e(".config-input-group.eckb-wizard-single-text input, .config-input-group.eckb-multiple-number-group input").each(function(){void 0!==t[e(this).attr("name")]&&(e(this).val(t[e(this).attr("name")]),void 0===e(this).data("preview")&&e(this).trigger("change"))}),e(".config-input-group.eckb-wizard-single-checkbox input").each(function(){void 0!==t[e(this).attr("name")]&&("on"==t[e(this).attr("name")]?e(this).prop("checked","checked"):e(this).prop("checked",!1),void 0===e(this).data("preview")&&e(this).trigger("change"))}),e(".config-input-group.eckb-wizard-single-dropdown select").each(function(){void 0!==t[e(this).attr("name")]&&(e(this).val(t[e(this).attr("name")]),void 0===e(this).data("preview")&&e(this).trigger("change"))}),e("#epkb-config-wizard-content").hasClass("eckb-wizard-search"))){let i=JSON.parse(e("#eckb_current_theme_values").val());for(let e in t)i[e]=t[e];e("#eckb_current_theme_values").val(JSON.stringify(i)),b("main_page"),b("article_page",!0)}}function d(t){if(!t.length)return;let i=JSON.parse(t);e(".eckb-wizard-colors-content, .eckb-wizard-texts-content, .eckb-wizard-features-content, .eckb-wizard-search-content").each(function(){let t=e(this).data("depends");if(void 0===t)return;let a=!0,n="";if(void 0!==t.show_when&&Object.keys(t.show_when)){a=!1;for(let r in t.show_when)if(e("select#"+r).length&&(i[r]=e("select#"+r).val()),void 0!==i[r]){n=(n=t.show_when[r]).split("|");for(let e of n)if(i[r]==e){a=!0;break}}}if(void 0!==t.hide_when&&Object.keys(t.hide_when))for(let r in t.hide_when)if(e("select#"+r).length&&(i[r]=e("select#"+r).val()),void 0!==i[r]){n=(n=t.hide_when[r]).split("|");for(let e of n)if(i[r]==e){a=!1;break}}a?e(this).show():e(this).hide()})}function s(){e(".eckb-article-toc").each(function(){let t=e(this),i=t.closest("#eckb-article-body").find("#eckb-article-content-body");if(t.length){t.data("min")||t.data("min",1),t.data("max")||t.data("min",6),t.data("offset")||t.data("offset",50);let a=t.data("min"),n=t.data("max"),r="h"+a,o="",c={scrollOffset:t.data("offset"),getActiveElement:function(t){if(o==t)return'a[href="#'+t+'"]';o=t;let i=e('.eckb-article-toc__inner a[href="#'+t+'"]');return i.length&&e("#eckb-article-page-container-v2 .eckb-article-toc .eckb-article-toc__inner").animate({scrollTop:i.position().top},50),'a[href="#'+t+'"]'}},d=!1;for(void 0!==t.data("exclude_class")&&(d=t.data("exclude_class"));a<n;)r+=", h"+ ++a;let s=function(){let a=[];if(i.find(r).each(function(){if(0==e(this).text().length)return;if(d&&e(this).hasClass(t.data("exclude_class")))return;let i,n={};e(this).prop("id")?i=e(this).prop("id"):(i="articleTOC_"+a.length,e(this).prop("id",i)),n.id=i,n.title=e(this).text(),"H1"==e(this).prop("tagName")?n.level=1:"H2"==e(this).prop("tagName")?n.level=2:"H3"==e(this).prop("tagName")?n.level=3:"H4"==e(this).prop("tagName")?n.level=4:"H5"==e(this).prop("tagName")?n.level=5:"H6"==e(this).prop("tagName")&&(n.level=6),a.push(n)}),0==a.length)return a;let n=1,o=6;a.forEach(function(e){e.level>n&&(n=e.level),e.level<o&&(o=e.level)}),o>1&&a.forEach(function(e,t){a[t].level=e.level-o+1});let c=1;for(;c<n;){let e=!1;a.forEach(function(t){t.level==c&&(e=!0)}),e?c++:a.forEach(function(e,t){e.level>c&&(a[t].level=e.level-1)}),c++}return a}();s.length>0&&(t.html(function(e){let i;if(t.find(".eckb-article-toc__title").length){let e=t.find(".eckb-article-toc__title").html();i=`\n\t\t\t\t\t\t\t<div class="eckb-article-toc__inner">\n\t\t\t\t\t\t\t\t<div class="eckb-article-toc__title">${e}</div>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t`}else i='\n\t\t\t\t\t\t\t<div class="eckb-article-toc__inner">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t';return e.forEach(function(e){i+=`<li class="eckb-article-toc__level eckb-article-toc__level-${e.level}"><a href="#${e.id}">${e.title}</a></li>`}),i+="\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t"}(s)),i.find(r).scrollSpy(c),t.fadeIn())}})}function l(){let t=e("#eckb-wizard-ordering__page"),i={categories_display_sequence:t.find("input[name=categories_display_sequence]:checked").val(),articles_display_sequence:t.find("input[name=articles_display_sequence]:checked").val(),show_articles_before_categories:t.find("input[name=show_articles_before_categories]:checked").val(),sidebar_show_articles_before_categories:t.find("input[name=show_articles_before_categories]:checked").val()},a={action:"epkb_wizard_update_order_view",_wpnonce_apply_wizard_changes:t.find("#_wpnonce_apply_wizard_changes").val(),sequence_settings:i,epkb_kb_id:t.find("#epkb_wizard_kb_id").val()};p(t,a,function(a){if(void 0!==a.html){let n="";a.message.length&&(n+='<h1 class="eckb-wisard-ordering-title">'+a.message+"</h1>"),n+=a.html,t.find(".epkb-wizard-ordering-ordering-preview").html(n),function(t,i){if(!t&&!i)return!1;i&&(e(".epkb-wizard-ordering-ordering-preview .epkb-top-categories-list").sortable({axis:"x",forceHelperSize:!0,forcePlaceholderSize:!0,opacity:.8,placeholder:"epkb-sortable-placeholder"}),e(".epkb-wizard-ordering-ordering-preview .eckb-categories-list, .epkb-wizard-ordering-ordering-preview .elay-sidebar__cat-container").sortable({axis:"x,y",forceHelperSize:!0,forcePlaceholderSize:!0,opacity:.8,placeholder:"epkb-sortable-placeholder"}),e(".epkb-wizard-ordering-ordering-preview .eckb-sub-category-ordering").sortable({axis:"x,y",forceHelperSize:!0,forcePlaceholderSize:!0,opacity:.8,placeholder:"epkb-sortable-placeholder"}),e(".epkb-wizard-ordering-ordering-preview .eckb-sub-sub-category-ordering").sortable({axis:"x,y",forceHelperSize:!0,forcePlaceholderSize:!0,opacity:.8,placeholder:"epkb-sortable-placeholder"}));t&&e(".epkb-wizard-ordering-ordering-preview .epkb-articles").sortable({axis:"y",forceHelperSize:!0,forcePlaceholderSize:!0,opacity:.8,placeholder:"epkb-sortable-placeholder"});e(".epkb-wizard-ordering-ordering-preview").find("a").css("cursor","move","important")}("user-sequenced"==i.articles_display_sequence,"user-sequenced"==i.categories_display_sequence),t.find(".epkb-wizard-header__exit-wizard .epkb-wizard-header__exit-wizard__label").animate({opacity:"1"},200)}},!1,"",!0)}function p(t,i,a,n,r,c=!1){let d,s;a=void 0===a?"epkb_callback_noop":a,e.ajax({type:"POST",dataType:"json",data:i,url:ajaxurl,beforeSend:function(e){c||h("show",r)}}).done(function(e){((s=e||"").error||void 0===s.message)&&(d=s.message?s.message:o("",epkb_vars.reload_try_again,"error"))}).fail(function(e,t,i){d=i?" ["+i+"]":epkb_vars.unknown_error,d=o(epkb_vars.error_occurred+". "+epkb_vars.msg_try_again,d,"error")}).always(function(){c||h("remove",""),d?(t.find(".eckb-bottom-notice-message").replaceWith(d),e("html, body").animate({scrollTop:0},"slow")):(c||s.error||void 0===s.message||t.find(".eckb-bottom-notice-message").replaceWith(o("",s.message,"success")),"function"==typeof a?a(s=void 0===s?"":s):n&&location.reload())})}function b(t="",i=!1){let a=g.find(".epkb-wizard-button-apply").data("wizard-type"),n={},r="main_page",o={wizard_type:a,action:"epkb_update_wizard_preview",_wpnonce_apply_wizard_changes:e("#_wpnonce_apply_wizard_changes").val(),epkb_wizard_kb_id:e("#epkb_wizard_kb_id").val()},c=!1;if(g.find(".epkb-wc-step-panel--active").find(".epkb-wizard-features-article-page-preview, .epkb-wizard-search-article-page-preview").length&&(r="article_page"),g.find(".epkb-wc-step-panel--active").find(".epkb-wizard-features-archive-page-preview, .epkb-wizard-search-archive-page-preview").length&&(r="archive_page"),t&&(r=t),"features"==a||"search"==a){{n=JSON.parse(e("#eckb_current_theme_values").val()),e(".eckb-wizard-single-text input").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),e(".eckb-multiple-number-group input").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),e(".eckb-wizard-single-checkbox input").each(function(){"undefined"!==n[e(this).attr("name")]&&(e(this).prop("checked")?n[e(this).attr("name")]="on":n[e(this).attr("name")]="off")}),e(".config-input-group select").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),e(".eckb-wizard-single-radio input[type=radio]:checked, .radio-buttons-vertical  input[type=radio]:checked, .radio-buttons-horizontal input[type=radio]:checked").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),e(".text-select-fields-horizontal input").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),e(".radio-buttons-horizontal input").each(function(){"undefined"!==n[e(this).attr("name")]&&e(this).prop("checked")&&(n[e(this).attr("name")]=e(this).val())}),e(".epkb_toc_position select, .epkb_kb_sidebar_position select, .epkb_elay_sidebar_position select, .epkb_categories_position select").each(function(){n.article_sidebar_component_priority[e(this).prop("id")]=e(this).val()});let t=e("#epkb-wsb-step-2-panel #eckb-article-left-sidebar"),i=e("#epkb-wsb-step-2-panel #eckb-article-right-sidebar");t.length>0&&i.length>0&&(t.html()&&!i.html()&&(c=1),t.html()&&i.html()&&(c=2),!t.html()&&i.html()&&(c=3),t.html()||i.html()||(c=4))}o.kb_config=n,o.wizard_screen=r,p(g,o,function(t){"features"==a&&("main_page"==r?(e(".epkb-wizard-features-main-page-preview").animate({opacity:0},200),setTimeout(function(){e(".epkb-wizard-features-main-page-preview").html('<div class="eckb-wizard-help__image"></div>'+t.html),e(".epkb-wizard-features-main-page-preview").animate({opacity:1},200),s()},200)):"article_page"==r?(e(".epkb-wizard-features-article-page-preview").animate({opacity:0},200),setTimeout(function(){e(".epkb-wizard-features-article-page-preview").html('<div class="eckb-wizard-help__image"></div>'+t.html),s(),e(".epkb-wizard-features-article-page-preview").animate({opacity:1},200),w(c)},200)):(e(".epkb-wizard-features-archive-page-preview").animate({opacity:0},200),e(".epkb-wizard-features-archive-page-preview").css({"min-height":e(".epkb-wizard-features-archive-page-preview").height()+"px"}),setTimeout(function(){e(".epkb-wizard-features-archive-page-preview").css({"min-height":"auto"})},2e3),setTimeout(function(){e(".epkb-wizard-features-archive-page-preview").html('<div class="eckb-wizard-help__image"></div>'+t.html),e(".epkb-wizard-features-archive-page-preview").animate({opacity:1},200)},200))),"search"==a&&("main_page"==r?(e(".epkb-wizard-search-main-page-preview").animate({opacity:0},200),setTimeout(function(){e(".epkb-wizard-search-main-page-preview").html('<div class="eckb-wizard-help__image"></div>'+t.html),e(".epkb-wizard-search-main-page-preview").animate({opacity:1},200)},200)):"article_page"==r?(e(".epkb-wizard-search-article-page-preview").animate({opacity:0},200),setTimeout(function(){e(".epkb-wizard-search-article-page-preview").html('<div class="eckb-wizard-help__image"></div>'+t.html),s(),e(".epkb-wizard-search-article-page-preview").animate({opacity:1},400)},400)):(e(".epkb-wizard-search-archive-page-preview").animate({opacity:0},200),setTimeout(function(){e(".epkb-wizard-search-archive-page-preview").html('<div class="eckb-wizard-help__image"></div>'+t.html),e(".epkb-wizard-search-archive-page-preview").animate({opacity:1},200)},200))),d(e("#eckb_current_theme_values").val()),setTimeout(f,210)},!1,epkb_vars.load_template,i)}}function h(t,i){if("show"===t){let t='<div class="epkb-admin-dialog-box-loading"><div class="epkb-admin-dbl__header"><div class="epkb-admin-dbl-icon epkbfa epkbfa-hourglass-half"></div>'+(i?'<div class="epkb-admin-text">'+i+"</div>":"")+'</div></div><div class="epkb-admin-dialog-box-overlay"></div>';e("body").append(t)}else"remove"===t&&(e(".epkb-admin-dialog-box-loading").remove(),e(".epkb-admin-dialog-box-overlay").remove())}function k(){let t=e("input[name=article_toc_position]:checked").val();t&&("left"==t&&("0"!==e("#toc_right").val()&&(e("#toc_left").val(e("#toc_right").val()),e("#toc_right").val("0")),"0"!==e("#toc_content").val()&&(e("#toc_left").val(e("#toc_content").val()),e("#toc_content").val("0"))),"right"==t&&("0"!==e("#toc_left").val()&&(e("#toc_right").val(e("#toc_left").val()),e("#toc_left").val("0")),"0"!==e("#toc_content").val()&&(e("#toc_right").val(e("#toc_content").val()),e("#toc_content").val("0"))),"middle"==t&&("0"!==e("#toc_left").val()&&(e("#toc_content").val(e("#toc_left").val()),e("#toc_left").val("0")),"0"!==e("#toc_right").val()&&(e("#toc_content").val(e("#toc_right").val()),e("#toc_right").val("0"))))}function _(t=!1){let i=0,a=!1;e(".eckb-wizard-option-heading h4").removeClass("epkb-wizard-header-alert-icon"),e(".eckb-wizard-article-width-input-desktop input").each(function(){if(e(this).prop("disabled"))return;let t=parseFloat(e(this).val());isNaN(t)&&(t=0),e(this).val(t),i+=t}),100!==i?(e(".eckb-wizard-article-width-input-desktop input").each(function(){e(this).prop("disabled")?e(this).closest(".eckb-wizard-accordion__body-content").find(".eckb-wizard-article-width-input-alert-desktop").removeClass("wrong"):(e(this).closest(".eckb-wizard-accordion__body-content").find(".eckb-wizard-article-width-input-alert-desktop").addClass("wrong"),e(this).closest(".eckb-wizard-accordion__body-content").find(".eckb-wizard-article-width-input-alert-desktop .epkb-wizard-article-width-alert-num").text(i),e(this).closest(".eckb-wizard-accordion__body-content").find(".eckb-wizard-option-heading h4").addClass("epkb-wizard-header-alert-icon"))}),a=!0):e(".eckb-wizard-article-width-input-alert-desktop").removeClass("wrong"),i=0,e(".eckb-wizard-article-width-input-tablet input").each(function(){if(e(this).prop("disabled"))return;let t=parseFloat(e(this).val());isNaN(t)&&(t=0),e(this).val(t),i+=t}),100!==i?(e(".eckb-wizard-article-width-input-tablet input").each(function(){e(this).prop("disabled")?e(this).closest(".eckb-wizard-accordion__body-content").find(".eckb-wizard-article-width-input-alert-tablet").removeClass("wrong"):(e(this).closest(".eckb-wizard-accordion__body-content").find(".eckb-wizard-article-width-input-alert-tablet").addClass("wrong"),e(this).closest(".eckb-wizard-accordion__body-content").find(".eckb-wizard-article-width-input-alert-tablet .epkb-wizard-article-width-alert-num").text(i),e(this).closest(".eckb-wizard-accordion__body-content").find(".eckb-wizard-option-heading h4").addClass("epkb-wizard-header-alert-icon"))}),a=!0):e(".eckb-wizard-article-width-input-alert-tablet").removeClass("wrong"),function(){let t="";e(".epkb-wizard-footer .wrong").remove(),e(".eckb-wizard-article-width-input-alert-desktop.wrong").length&&(t+='<div class="eckb-wizard-article-width-input-alert-desktop wrong">'+e(".eckb-wizard-article-width-input-alert-desktop.wrong").eq(0).html()+"</div>");e(".eckb-wizard-article-width-input-alert-tablet.wrong").length&&(t+='<div class="eckb-wizard-article-width-input-alert-tablet wrong">'+e(".eckb-wizard-article-width-input-alert-tablet.wrong").eq(0).html()+"</div>");e(".epkb-wizard-footer").prepend(t)}(),!0===t&&b()}function w(t){let i=e("#epkb-wsb-step-2-panel #eckb-article-left-sidebar"),a=e("#epkb-wsb-step-2-panel #eckb-article-right-sidebar");if(i.length<1||a.length<1)return;i.html()?(e("#article-left-sidebar-tablet-width-v2, #article-left-sidebar-desktop-width-v2").prop("disabled",!1),e(".eckb-wizard-article-blocked-lsidebar").removeClass("active")):(e("#article-left-sidebar-tablet-width-v2, #article-left-sidebar-desktop-width-v2").prop("disabled","disabled"),e(".eckb-wizard-article-blocked-lsidebar").addClass("active")),a.html()?(e("#article-right-sidebar-tablet-width-v2, #article-right-sidebar-desktop-width-v2").prop("disabled",!1),e(".eckb-wizard-article-blocked-rsidebar").removeClass("active")):(e("#article-right-sidebar-tablet-width-v2, #article-right-sidebar-desktop-width-v2").prop("disabled","disabled"),e(".eckb-wizard-article-blocked-rsidebar").addClass("active"));let n=!1;i.html()&&!a.html()&&t&&1!==t&&(e("#article-left-sidebar-desktop-width-v2, #article-left-sidebar-tablet-width-v2").val("20"),e("#article-content-desktop-width-v2, #article-content-tablet-width-v2").val("80"),n=!0),i.html()&&a.html()&&t&&2!==t&&(e("#article-left-sidebar-desktop-width-v2, #article-left-sidebar-tablet-width-v2").val("20"),e("#article-content-desktop-width-v2, #article-content-tablet-width-v2").val("60"),e("#article-right-sidebar-desktop-width-v2, #article-right-sidebar-tablet-width-v2").val("20"),n=!0),!i.html()&&a.html()&&t&&3!==t&&(e("#article-content-desktop-width-v2, #article-content-tablet-width-v2").val("80"),e("#article-right-sidebar-desktop-width-v2, #article-right-sidebar-tablet-width-v2").val("20"),n=!0),i.html()||a.html()||!t||4!==t&&(e("#article-content-desktop-width-v2, #article-content-tablet-width-v2").val("100"),n=!0),_(n)}function u(){T=!0,clearTimeout(N),N=setTimeout(function(){T=!1},2e3)}function v(t,i){if(void 0!==t&&void 0!==i&&(S[t]=i),T)setTimeout(v,500);else for(selector in S)e(selector).length&&(e(selector).val(S[selector]),delete S[selector])}function f(){setTimeout(function(){e(".epkb-search-box button").each(function(){let t=e(this).text();e(this).text(t)})},1)}let g=e("#epkb-config-wizard-content, .epkb-config-wizard-content"),m=!0;if(g.length<=0)return;g.find("#epkb-wizard-button-next").on("click",function(o){o.preventDefault();let c=e(this).closest("#epkb-config-wizard-content, .epkb-config-wizard-content"),d=Number(c.find("#epkb-wizard-button-next").val()),s=Number(c.find("#epkb-wizard-button-prev").val());c.find(".epkb-wsb-step").removeClass("epkb-wsb-step--active"),c.find("#epkb-wsb-step-"+d).addClass("epkb-wsb-step--active"),c.find(".epkb-wc-step-panel").removeClass("epkb-wc-step-panel--active"),c.find("#epkb-wsb-step-"+d+"-panel").addClass("epkb-wc-step-panel--active"),c.find("#epkb-wizard-button-prev").val(s+1),c.find("#epkb-wizard-button-next").val(d+1),t(d,c),i(c),a(c),n(d-1,d,c),r()}),g.find("#epkb-wizard-button-prev").on("click",function(o){o.preventDefault();let c=e(this).closest("#epkb-config-wizard-content, .epkb-config-wizard-content"),d=Number(c.find("#epkb-wizard-button-next").val()),s=Number(c.find("#epkb-wizard-button-prev").val());c.find(".epkb-wsb-step").removeClass("epkb-wsb-step--active"),c.find("#epkb-wsb-step-"+s).addClass("epkb-wsb-step--active"),c.find(".epkb-wc-step-panel").removeClass("epkb-wc-step-panel--active"),c.find("#epkb-wsb-step-"+s+"-panel").addClass("epkb-wc-step-panel--active"),c.find("#epkb-wizard-button-prev").val(s-1),c.find("#epkb-wizard-button-next").val(d-1),t(s,c),i(c),a(c),n(s+1,s,c),r()}),g.find(".epkb-wt-tab").on("click",function(t){let i=e(this),a=i.attr("id"),n=e("#"+a+"-panel");e(".epkb-wt-tab").removeClass("epkb-wt--active"),i.addClass("epkb-wt--active"),e(".epkb-wt-panel").removeClass(" epkb-wt-panel--active"),e(".epkb-wt-panel").css({opacity:"0"}),n.addClass("epkb-wt-panel--active"),n.animate({opacity:"1"},200);let r=JSON.parse(n.find(".theme-values").val());r&&(e("#epkb-advanced-style").html(`\n\t\t\t\t#epkb-content-container .epkb-nav-tabs .active:after {\n\t\t\t\t\tborder-top-color: ${r.tab_nav_active_background_color}!important\n\t\t\t\t}\n\t\t\t\t#epkb-content-container .epkb-nav-tabs .active {\n\t\t\t\t\tbackground-color: ${r.tab_nav_active_background_color}!important\n\t\t\t\t}\n\t\t\t\t#epkb-content-container .epkb-nav-tabs .active .epkb-category-level-1,\n\t\t\t\t#epkb-content-container .epkb-nav-tabs .active p {\n\t\t\t\t\tcolor: ${r.tab_nav_active_font_color}!important\n\t\t\t\t}\n\t\t\t\t#epkb-content-container .epkb-nav-tabs .active:before {\n\t\t\t\t\tborder-top-color: ${r.tab_nav_border_color}!important\n\t\t\t\t}\t\t\n\t\t\t`),z=e("#epkb-advanced-style").html()),m=!0,f()});let z=e("#epkb-advanced-style").html();e("body").on("color_changed","input",function(){let t=e(this);setTimeout(function(){if(t.data("target_selector")){let i=e(t.data("target_selector"));if(i.length){let e={};e[t.data("style_name")]=t.val(),i.css(e)}if("tab_nav_active_font_color"==t.data("target_selector")||"tab_nav_active_background_color"==t.data("target_selector")||"tab_nav_border_color"==t.data("target_selector")||"article_toc_cursor_hover_bg_color"==t.data("target_selector")||"article_toc_active_bg_color"==t.data("target_selector")||"article_toc_active_text_color"==t.data("target_selector")||"article_toc_cursor_hover_text_color"==t.data("target_selector")){let t=e(".eckb-wizard-step-3 input[name=tab_nav_active_font_color]").val(),i=e(".eckb-wizard-step-3 input[name=tab_nav_active_background_color]").val(),a=e(".eckb-wizard-step-3 input[name=tab_nav_border_color]").val(),n=e(".eckb-wizard-step-4 input[name=article_toc_cursor_hover_bg_color]").val(),r=e(".eckb-wizard-step-4 input[name=article_toc_cursor_hover_text_color]").val(),o=e(".eckb-wizard-step-4 input[name=article_toc_active_text_color]").val(),c=e(".eckb-wizard-step-4 input[name=article_toc_active_bg_color]").val();e("#epkb-advanced-style").html(z+`\n\t\t\t\t\t\t#epkb-wsb-step-3-panel #epkb-content-container .epkb-nav-tabs .active:after {\n\t\t\t\t\t\t\tborder-top-color: ${i} !important;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t#epkb-wsb-step-3-panel #epkb-content-container .epkb-nav-tabs .active {\n\t\t\t\t\t\t\tbackground-color: ${i} !important;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#epkb-wsb-step-3-panel #epkb-content-container .epkb-nav-tabs .active .epkb-category-level-1,\n\t\t\t\t\t\t#epkb-wsb-step-3-panel #epkb-content-container .epkb-nav-tabs .active p {\n\t\t\t\t\t\t\tcolor: ${t} !important;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#epkb-wsb-step-3-panel #epkb-content-container .epkb-nav-tabs .active:before {\n\t\t\t\t\t\t\tborder-top-color: ${a} !important;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t#epkb-wsb-step-3-panel #epkb-content-container .epkb-nav-tabs {\n\t\t\t\t\t\t\tborder-bottom-color: ${a} !important;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.eckb-wizard-step-4 .eckb-article-toc ul a.active {\n\t\t\t\t\t\t\tbackground: ${c} !important;\n\t\t\t\t\t\t\tcolor: ${o} !important;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.eckb-wizard-step-4 .eckb-article-toc ul a:hover {\n\t\t\t\t\t\t\tbackground: ${n} !important;\n\t\t\t\t\t\t\tcolor: ${r} !important;\n\t\t\t\t\t\t} \t`)}}void 0!==t.data("preview")&&b()},50)}),g.find(".epkb-wizard-button-apply").on("click",function(t){let i=e(this).closest("#epkb-config-wizard-content, .epkb-config-wizard-content"),a=e(this).data("wizard-type"),n={},r={},o=[],c={wizard_type:a,action:"epkb_apply_wizard_changes",_wpnonce_apply_wizard_changes:i.find("#_wpnonce_apply_wizard_changes").val(),epkb_wizard_kb_id:i.find("#epkb_wizard_kb_id").val(),kb_main_page_id:i.data("kb-main-page-id")};"theme"==a?(n=i.find("#epkb-wsb-step-3-panel .theme-values").length?JSON.parse(i.find("#epkb-wsb-step-3-panel .theme-values").val()):JSON.parse(i.find("#epkb-wt-theme-current-panel .theme-values").val()),i.find("#epkb-wsb-step-3-panel .eckb-wizard-colors-content input, #epkb-wsb-step-4-panel .eckb-wizard-colors-content input").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".epkb-menu-checkbox input[type=checkbox]:checked").length&&i.find(".epkb-menu-checkbox input[type=checkbox]:checked").each(function(){o.push(e(this).prop("name").split("epkb_menu_")[1])}),c.kb_name=i.find(".epkb-wizard-name input").val(),c.kb_slug=i.find(".epkb-wizard-slug input").val(),c.menu_ids=o,c.article_sidebar_component_priority=n.article_sidebar_component_priority):"text"==a?(n=JSON.parse(i.find("#eckb_current_theme_values").val()),e(".eckb-wizard-single-text input, .eckb-wizard-wp-editor textarea").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())})):"features"==a?(n=JSON.parse(i.find("#eckb_current_theme_values").val()),i.find(".eckb-wizard-single-text input").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".eckb-wizard-single-checkbox input").each(function(){"undefined"!==n[e(this).attr("name")]&&(e(this).prop("checked")?n[e(this).attr("name")]="on":n[e(this).attr("name")]="off")}),i.find(".config-input-group select").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".eckb-wizard-single-radio input[type=radio]:checked, .radio-buttons-vertical  input[type=radio]:checked, .radio-buttons-horizontal input[type=radio]:checked").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".text-select-fields-horizontal input").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".eckb-wizard-multiple-number-group input").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".epkb_toc_position select, .epkb_kb_sidebar_position select, .epkb_elay_sidebar_position select, .epkb_categories_position select").each(function(){r[e(this).prop("id")]=e(this).val(),c.article_sidebar_component_priority=r})):"search"==a?(n=JSON.parse(i.find("#eckb_current_theme_values").val()),i.find(".eckb-wizard-single-text input").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".eckb-multiple-number-group input").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".eckb-wizard-single-checkbox input").each(function(){"undefined"!==n[e(this).attr("name")]&&(e(this).prop("checked")?n[e(this).attr("name")]="on":n[e(this).attr("name")]="off")}),i.find(".config-input-group select").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".eckb-wizard-single-radio input[type=radio]:checked, .radio-buttons-vertical  input[type=radio]:checked, .radio-buttons-horizontal input[type=radio]:checked").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".text-select-fields-horizontal input").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".radio-buttons-horizontal input").each(function(){"undefined"!==n[e(this).attr("name")]&&e(this).prop("checked")&&(n[e(this).attr("name")]=e(this).val())})):"ordering"==a?(n=JSON.parse(i.find("#eckb_current_theme_values").val()),i.find(".eckb-wizard-single-radio input[type=radio]:checked, .radio-buttons-vertical  input[type=radio]:checked, .radio-buttons-horizontal input[type=radio]:checked").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),n.sidebar_show_articles_before_categories=n.show_articles_before_categories,c.epkb_new_sequence=function(){let t="";return e(".epkb-wizard-ordering-ordering-preview").find("#epkb-content-container").length&&(e(".epkb-wizard-ordering-ordering-preview").append('<div class="epkb-virtual-articles" style="display:none!important;">'+e(".epkb-wizard-ordering-ordering-preview").find("#epkb-content-container").html()+"</div>"),e(".epkb-virtual-articles").find("ul.epkb-articles").each(function(){if(e(this).next().length&&"UL"==e(this).next().prop("tagName")){let t=e(this).parent();e(this).appendTo(t)}})),e(".epkb-wizard-ordering-ordering-preview #elay-sidebar-layout-page-container").find(".elay-sidebar").length&&(e(".epkb-wizard-ordering-ordering-preview #elay-sidebar-layout-page-container").append('<div class="epkb-virtual-articles" style="display:none!important;">'+e(".epkb-wizard-ordering-ordering-preview #elay-sidebar-layout-page-container").find(".elay-sidebar").html()+"</div>"),e(".epkb-wizard-ordering-ordering-preview .epkb-virtual-articles").find("ul.elay-articles").each(function(){if(e(this).next().length&&"UL"==e(this).next().prop("tagName")){let t=e(this).parent();e(this).appendTo(t)}})),e(".epkb-wizard-ordering-ordering-preview #elay-grid-layout-page-container").length?(e(".epkb-wizard-ordering-ordering-preview").find("[data-kb-type]").each(function(i,a){let n=e(this).data("kb-top-category-id")?e(this).data("kb-top-category-id"):"";if(n&&(t+="xx"+n+"xcategory"),void 0!==e(this).attr("data-kb-type")&&"top-category-no-articles"==e(this).attr("data-kb-type"))return!0;let r=void 0===e(this).data("kb-category-id")?e(this).data("kb-article-id"):e(this).data("kb-category-id");void 0!==r&&(t+="xx"+r+"x"+e(this).attr("data-kb-type"))}),t):(e(".epkb-wizard-ordering-ordering-preview #elay-sidebar-container-v2").length&&(e(".epkb-wizard-ordering-ordering-preview #elay-sidebar-container-v2").append('<div class="epkb-virtual-articles" style="display:none!important;">'+e(".epkb-wizard-ordering-ordering-preview #elay-sidebar-container-v2").html()+"</div>"),e(".epkb-wizard-ordering-ordering-preview .epkb-virtual-articles").find("ul.elay-articles").each(function(){if(e(this).next().length&&"UL"==e(this).next().prop("tagName")){let t=e(this).parent();e(this).appendTo(t)}})),e(".epkb-wizard-ordering-ordering-preview").find(".epkb-virtual-articles [data-kb-type]").each(function(i,a){let n=e(this).data("kb-top-category-id")?e(this).data("kb-top-category-id"):"";if(n&&(t+="xx"+n+"xcategory"),void 0!==e(this).attr("data-kb-type")&&"top-category-no-articles"==e(this).attr("data-kb-type"))return!0;let r=void 0===e(this).data("kb-category-id")?e(this).data("kb-article-id"):e(this).data("kb-category-id");void 0!==r&&(t+="xx"+r+"x"+e(this).attr("data-kb-type"))}),e(".epkb-wizard-ordering-ordering-preview .epkb-virtual-articles").remove(),t)}(),c.top_cat_sequence=function(){let t="";return"Tabs"===JSON.parse(e("#eckb_current_theme_values").val()).kb_main_page_layout&&void 0!==e(".epkb-wizard-ordering-ordering-preview .epkb-top-categories-list")?(e(".epkb-wizard-ordering-ordering-preview .epkb-top-categories-list").children().each(function(i,a){let n=e(this).find("[data-kb-category-id]").data("kb-category-id");n&&(t+="xx"+n)}),t):t}()):"global"==a&&(n=JSON.parse(i.find("#eckb_current_theme_values").val()),i.find(".eckb-wizard-single-text input, input[name=kb_articles_common_path], input[name=categories_in_url_enabled]").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".eckb-wizard-single-radio input[type=radio]:checked, .radio-buttons-vertical  input[type=radio]:checked, .radio-buttons-horizontal input[type=radio]:checked").each(function(){"undefined"!==n[e(this).attr("name")]&&(n[e(this).attr("name")]=e(this).val())}),i.find(".eckb-wizard-single-checkbox input").each(function(){"undefined"!==n[e(this).attr("name")]&&(e(this).prop("checked")?n[e(this).attr("name")]="on":n[e(this).attr("name")]="off")})),c.kb_config=n,p(i,c,function(t){i.find(".epkb-wizard-header__exit-wizard input:checked").length?location.href=i.find(".epkb-wizard-header__exit-wizard a").prop("href"):"theme"==a?t.error||void 0===t.message||(e("#epkb-wsb-step-5-panel").removeClass("epkb-wc-step-panel--active"),e("#epkb-wsb-step-6-panel").addClass("epkb-wc-step-panel--active").show()):"text"==a?t.error||void 0===t.message||(e("#epkb-wsb-step-4-panel").removeClass("epkb-wc-step-panel--active"),e("#epkb-wsb-step-5-panel").addClass("epkb-wc-step-panel--active").show()):"features"==a?t.error||void 0===t.message||(e("#epkb-wsb-step-5-panel").removeClass("epkb-wc-step-panel--active"),e("#epkb-wsb-step-6-panel").addClass("epkb-wc-step-panel--active").show()):"search"==a?t.error||void 0===t.message||(1==e("#epkb_wizard_show_article_step").val()?(e("#epkb-wsb-step-3-panel").removeClass("epkb-wc-step-panel--active"),e("#epkb-wsb-step-4-panel").addClass("epkb-wc-step-panel--active").show()):(e("#epkb-wsb-step-2-panel").removeClass("epkb-wc-step-panel--active"),e("#epkb-wsb-step-3-panel").addClass("epkb-wc-step-panel--active").show())):"ordering"==a?!t.error&&t.message:"global"==a&&(t.error||void 0===t.message||(i.find("#epkb-wsb-step-2-panel").removeClass("epkb-wc-step-panel--active"),i.find("#epkb-wsb-step-3-panel").addClass("epkb-wc-step-panel--active").show(),location.reload()))},!1,epkb_vars.save_config)}),e(".epkb-wizard-header__exit-wizard a").on("click",function(t){let i=e(this).closest("#epkb-config-wizard-content, .epkb-config-wizard-content");e(".epkb-wizard-header__exit-wizard input:checked").length&&(t.preventDefault(),"theme"==i.find("#epkb-wizard-button-apply").data("wizard-type")&&i.find("#epkb-wsb-step-2-panel").hasClass("epkb-wc-step-panel--active")&&i.find("#epkb-wizard-button-next").trigger("click"),setTimeout(function(){g.find(".epkb-wizard-button-apply").trigger("click")},100))}),e(".epkb-wizard-header__exit-wizard input").on("change",function(t){let i=e(this).closest("#epkb-config-wizard-content, .epkb-config-wizard-content");e(this).prop("checked")?(i.find(".epkb-wizard-header__exit-wizard a").text(e(this).data("save_exit")),i.find(".epkb-wizard-header__exit-wizard a").addClass("epkb_and_save")):(i.find(".epkb-wizard-header__exit-wizard a").text(e(this).data("exit")),i.find(".epkb-wizard-header__exit-wizard a").removeClass("epkb_and_save"))}),e("body").on("click",".epkb-preset-button",function(){let t=e(this).closest("#epkb-config-wizard-content, .epkb-config-wizard-content"),i=e(this).data("colors");e(this).closest("#epkb-wsb-step-3-panel").length&&c(i,t.find(".eckb-wizard-colors-content")),e(this).closest("#epkb-wsb-step-1-panel").length&&c(i,t.find(".epkb-wizard-search-selection-container"))}),s(),e(".epkb-wizard-slug input").on("change keyup paste",function(){let t=e(this).closest("#epkb-config-wizard-content, .epkb-config-wizard-content"),i=t.find(".epkb-wizard-slug input");if(0==i.length)return!0;let a=i.val(),n=!0;a.startsWith("http")&&(n=!1),a.startsWith("www")&&(n=!1),a.endsWith(".")&&(n=!1),a.endsWith(".com")&&(n=!1),a.endsWith(".org")&&(n=!1),n?(t.find("#epkb-wizard-slug-error").hide(),t.find("#epkb-wizard-button-next").prop("disabled",!1),i.removeClass("epkb-wizard-input-error")):(t.find("#epkb-wizard-slug-error").show(),t.find("#epkb-wizard-button-next").prop("disabled","disabled"),i.addClass("epkb-wizard-input-error"))}),e(".epkb-wizard-slug input").trigger("change"),e("#eckb_current_theme_values").length&&d(e("#eckb_current_theme_values").val()),e("body").on("change paste keyup",".eckb-wizard-single-text input, .eckb-wizard-wp-editor textarea, .eckb-wizard-single-dropdown select, .eckb-wizard-multiple-number-group input",function(){let t=e(this);if(void 0===t.data("target_selector"))return;if(target=e(t.data("target_selector")),!target.length)return;if("1"==t.data("text")&&target.text(t.val()),"1"==t.data("html")&&target.html(t.val()),function(e){void 0===e.data("old_transition")&&(e.data("old_transition",e.css("transition")),e.data("old_shadow",e.css("transition"))),e.data("hightlight_coming","yes"),e.css({transition:"0.2s","box-shadow":"inset 0 0 0px 0px #1bff1b"}),e.css({"box-shadow":"inset 0 0 20px 0px #1bff1b"}),setTimeout(function(){e.css({"box-shadow":"inset 0 0 0px 0px #1bff1b"}),e.data("hightlight_coming","no")},1e3),setTimeout(function(){"no"==e.data("hightlight_coming")&&e.css({transition:e.data("old_transition"),"box-shadow":e.data("old_shadow")})},2e3)}(target),void 0!==t.data("target_attr")){let e=t.data("target_attr").split("|");for(let i of e)target.prop(i,t.val())}if(void 0===t.data("style_name"))return;let i="";void 0!==t.data("postfix")&&(i=t.data("postfix"));let a={};a[t.data("style_name")]=t.val()+i,target.css(a)});let y=e(".epkb-wizard-ordering-ordering-preview");y.length&&e("#eckb-wizard-ordering__page").on("change","input",l),e(".epkb-admin__secondary-panel__order-articles").on("click",function(){y.hasClass("epkb-wizard-ordering-ordering-preview--init")||(y.addClass("epkb-wizard-ordering-ordering-preview--init"),l())});let x=e(".eckb-wizard-global-page");if(x.length&&(x.find("#epkb-wsb-step-1-panel .eckb-wizard-option-heading").trigger("click"),e(".notice-epkb_changed_slug").remove(),e(".notice-epkb-no-main-pages").length&&(e(".notice-epkb-no-main-pages").appendTo(e("#epkb-wsb-step-1-panel")),e(".notice-epkb-no-main-pages").find(".epkb-notice-dismiss").remove())),x.find(".eckb_slug").length){let t=!1,i=x.find("#kb_articles_common_path").val();x.find(".eckb_slug").each(function(){e(this).data("path")==i&&(e(this).prop("checked","checked"),t=!0)}),t||(x.find(".eckb_slug").eq(0).prop("checked","checked"),e("#kb_articles_common_path").val(x.find(".eckb_slug").eq(0).data("path"))),x.find(".eckb_slug").on("change",function(){e("#kb_articles_common_path").val(e(this).data("path")),x.data("kb-main-page-id",e(this).data("kb-main-page-id"))})}e(document.body).on("click","#categories_in_url_enabled__toggle input",function(){e(this).is(":checked")?(x.find("#categories_in_url_enabled").val("on"),x.find(".epkb-wso-with-category__category").removeClass("epkb-wso-with-category__category--off")):(x.find("#categories_in_url_enabled").val("off"),x.find(".epkb-wso-with-category__category").addClass("epkb-wso-with-category__category--off"))}),e("body").on("change",".config-input-group input, .config-input-group select",function(){void 0!==e(this).data("preview")&&b()}),e(".eprf-leave-feedback-form").on("submit",!1),e(document).on("click",".epkb-daca__button button",function(){e(this).closest(".epkb-daca").slideUp();let t={action:"epkb_hide_demo_content_alert",_wpnonce_apply_wizard_changes:e("#_wpnonce_apply_wizard_changes").val()};p(g,t,!1,!1,"",!0)});let C=!!e(".epkb-cat-icon.epkb-cat-icon--image").length;e(".eckb-wizard-features-content #section_head_category_icon_location").on("change",function(){"top"!=e(this).val()||C||e(".eckb-wizard-features-content #section_head_category_icon_size").val("40"),"left"!=e(this).val()||C||e(".eckb-wizard-features-content #section_head_category_icon_size").val("40"),"right"!=e(this).val()||C||e(".eckb-wizard-features-content #section_head_category_icon_size").val("40"),"top"==e(this).val()&&C&&e(".eckb-wizard-features-content #section_head_category_icon_size").val("150"),"left"==e(this).val()&&C&&e(".eckb-wizard-features-content #section_head_category_icon_size").val("150"),"right"==e(this).val()&&C&&e(".eckb-wizard-features-content #section_head_category_icon_size").val("150")}),e("input[name=categories_in_url_enabled]").on("change",function(){"on"==e("input[name=categories_in_url_enabled]:checked").val()?e(".epkb-category-slug-name").removeClass("epkb-half-visible"):e(".epkb-category-slug-name").addClass("epkb-half-visible")}),e(".epkb_toc_position select, .epkb_kb_sidebar_position select, .epkb_elay_sidebar_position select, .epkb_categories_position select").on("change",function(){if("0"===e(this).val())return;let t=e(this).prop("id"),i="";e(this).parent().hasClass("epkb_toc_position")&&(i=".epkb_toc_position select"),e(this).parent().hasClass("epkb_kb_sidebar_position")&&(i=".epkb_kb_sidebar_position select"),e(this).parent().hasClass("epkb_elay_sidebar_position")&&(i=".epkb_elay_sidebar_position select"),e(this).parent().hasClass("epkb_categories_position")&&(i=".epkb_categories_position select"),e(i).each(function(){e(this).prop("id")!==t&&e(this).val("0")}),"0"!==e("#toc_left").val()&&e("#article_toc_position0").prop("checked","checked"),"0"!==e("#toc_right").val()&&e("#article_toc_position1").prop("checked","checked"),"0"!==e("#toc_content").val()&&e("#article_toc_position2").prop("checked","checked")}),k(),e("input[name=article_toc_position]").on("change",k),e(".eckb-wizard-article-width-input-desktop input, .eckb-wizard-article-width-input-tablet input").on("change keyup paste",_),w(),e(".eckb-wizard-article-blocked-rsidebar").on("click",function(){e(".eckb-wizard-features-right-sidebar-content h4").trigger("click")}),e(".eckb-wizard-article-blocked-lsidebar").on("click",function(){e(".eckb-wizard-features-left-sidebar-content h4").trigger("click")}),e("#article-container-desktop-width-units-v2").on("change",function(){"%"==e(this).val()?e("#article-container-desktop-width-v2").val("100"):e("#article-container-desktop-width-v2").val("1140")}),e("#article-container-tablet-width-units-v2").on("change",function(){"%"==e(this).val()?e("#article-container-tablet-width-v2").val("100"):e("#article-container-tablet-width-v2").val("1025")}),e("#article-body-desktop-width-units-v2").on("change",function(){"%"==e(this).val()?e("#article-body-desktop-width-v2").val("100"):e("#article-body-desktop-width-v2").val("1140")}),e("#article-body-tablet-width-units-v2").on("change",function(){"%"==e(this).val()?e("#article-body-tablet-width-v2").val("100"):e("#article-body-tablet-width-v2").val("1025")});let N,T=!1,S={};if(e("#article-container-desktop-width-v2").on("keyup paste",function(){let t=parseFloat(e(this).val());isNaN(t)&&(t=0);let i=100,a=1;u(),"px"==e("#article-container-desktop-width-units-v2").val()&&(i=3e3,a=10),t>i&&(t=i),t<a&&(t=a),v("#article-container-desktop-width-v2",t)}),e("#article-container-tablet-width-v2").on("keyup paste",function(){let t=parseFloat(e(this).val());isNaN(t)&&(t=0);let i=100,a=1;u(),"px"==e("#article-container-tablet-width-units-v2").val()&&(i=1100,a=10),t>i&&(t=i),t<a&&(t=a),v("#article-container-tablet-width-v2",t)}),e("#article-body-desktop-width-v2").on("keyup paste",function(){let t=parseFloat(e(this).val());isNaN(t)&&(t=0);let i=100,a=1;u(),"px"==e("#article-body-desktop-width-units-v2").val()&&(i=3e3,a=10),t>i&&(t=i),t<a&&(t=a),v("#article-body-desktop-width-v2",t)}),e("#article-body-tablet-width-v2").on("keyup paste",function(){let t=parseFloat(e(this).val());isNaN(t)&&(t=0);let i=100,a=1;u(),"px"==e("#article-body-tablet-width-units-v2").val()&&(i=1100,a=10),t>i&&(t=i),t<a&&(t=a),v("#article-body-tablet-width-v2",t)}),e("#eckb_preselect").length){let t=e("#"+e("#eckb_preselect").val());t.closest(".eckb-wizard-accordion__body-content").find(".eckb-wizard-option-heading").trigger("click"),setTimeout(function(){t.closest(".config-input-group").css({"background-color":"#7dba5d",color:"white"})},500),setTimeout(function(){e("html, body").animate({scrollTop:t.closest(".config-input-group").offset().top-150},200)},200),setTimeout(function(){t.closest(".config-input-group").css({"background-color":"#fff",color:"black"})},2e3)}var O={done:function(e,t){},change:function(t,i){e(t.target).trigger("color_changed")},clear:function(t,i){let a=e(t.target).closest(".input_container").find(".wp-picker-input-wrap label input[type=text]");a.length<1||void 0!==a.data("default_color")&&a.iris("color",a.data("default_color"))}};e(".ekb-color-picker input").wpColorPicker(O),e(".ekb-color-picker").find(".wp-color-result-text").text(""),setTimeout(function(){f(),e(".epkb-admin-dialog-box-loading").remove(),e(".epkb-admin-dialog-box-overlay").remove()},500),e("#epkb-main-page-content, .epkb-wc-step-panel").on("click",".epkb-section-body .epkb-category-level-2-3",function(){function t(e){i.hasClass(e[0])?(i.removeClass(e[0]),i.addClass(e[1])):i.hasClass(e[1])&&(i.removeClass(e[1]),i.addClass(e[0]))}var i=e(this).find("i");t(["ep_font_icon_plus","ep_font_icon_minus"]),t(["ep_font_icon_plus_box","ep_font_icon_minus_box"]),t(["ep_font_icon_right_arrow","ep_font_icon_down_arrow"]),t(["ep_font_icon_arrow_carrot_right","ep_font_icon_arrow_carrot_down"]),t(["ep_font_icon_arrow_carrot_right_circle","ep_font_icon_arrow_carrot_down_circle"]),t(["ep_font_icon_folder_add","ep_font_icon_folder_open"])}),e("#epkb-main-page-content, .epkb-wc-step-panel").on("click",".epkb-section-body .epkb-category-level-2-3",function(){e(this).parent().children("ul").toggleClass("active")}),e("#epkb-main-page-content").on("click",".epkb-show-all-articles",function(){e(this).toggleClass("active");var t=e(this).parent("ul").find("li");e(this).hasClass("active")?(e(this).find(".epkb-show-text").addClass("epkb-hide-elem"),e(this).find(".epkb-hide-text").removeClass("epkb-hide-elem")):(e(this).find(".epkb-show-text").removeClass("epkb-hide-elem"),e(this).find(".epkb-hide-text").addClass("epkb-hide-elem")),e(t).each(function(){e(this).hasClass("epkb-hide-elem")?(e(this).removeClass("epkb-hide-elem"),e(this).addClass("visible")):e(this).hasClass("visible")&&(e(this).removeClass("visible"),e(this).addClass("epkb-hide-elem"))})})});